<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>RentCasaPT - Your Trusted Real Estate Partner in Portugal</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="real estate, portugal properties, buy house portugal, rent apartment portugal" name="keywords">
    <meta content="Find your perfect home in Portugal. RentCasaPT offers premium properties for sale and rent across Portugal's most desirable locations." name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Inter:wght@700;800&display=swap" rel="stylesheet">
    
    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Font Awesome for WhatsApp -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    
    <style>
        /* Appointment Modal Styles */
        .appointment-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            overflow-y: auto;
            padding: 20px 0;
        }
        
        .modal-content {
            background-color: white;
            margin: 30px auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            position: relative;
            animation: modalFadeIn 0.4s;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
        }
        
        @keyframes modalFadeIn {
            from {opacity: 0; transform: translateY(-30px) scale(0.95);}
            to {opacity: 1; transform: translateY(0) scale(1);}
        }
        
        .close-modal {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #333;
            z-index: 1;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: #0066ff;
        }
        
        /* Property Filter Styles */
        .property-item {
            transition: transform 0.3s ease;
        }
        
        .property-item:hover {
            transform: translateY(-5px);
        }
        
        /* Phone Button */
        .phone-reveal {
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-direction: row-reverse;
        }
        
        .phone-number {
            display: none;
            font-weight: bold;
            color: #0066ff;
            margin-top: 5px;
            text-align: center;
        }
        
        /* Active Filter */
        .filter-active {
            background-color: #0066ff !important;
            color: white !important;
        }
        
        /* WhatsApp Floating Button */
        .whatsapp-float {
            position: fixed;
            width: 60px;
            height: 60px;
            bottom: 100px;
            right: 20px;
            background-color: #25D366;
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .whatsapp-float:hover {
            background-color: #128C7E;
            transform: scale(1.1);
            box-shadow: 2px 2px 15px rgba(0,0,0,0.3);
        }
        
        /* Scroll Up Button */
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99;
        }
        
        /* Modal form scrolling fix */
        .modal-scroll-fix {
            max-height: 80vh;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        /* Custom scrollbar for modal */
        .modal-scroll-fix::-webkit-scrollbar {
            width: 8px;
        }
        
        .modal-scroll-fix::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .modal-scroll-fix::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        .modal-scroll-fix::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Button Container */
        .cta-buttons-container {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .cta-phone-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex-direction: row-reverse;
            gap: 8px;
        }
        
        .cta-appointment-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .cta-phone-container {
            display: inline-block;
            text-align: center;
        }
        
        /* Header buttons alignment */
        .header-buttons-container {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .header-phone-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex-direction: row-reverse;
            gap: 8px;
        }
        
        /* Enhanced Form Styles for Add Property */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
            min-width: 200px;
        }
        
        .form-check-label {
            margin-right: 15px;
        }
        
        /* Feature checkboxes */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: white;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .feature-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        /* Form Section Styling */
        .form-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid #1e7e34;
        }
        
        .form-section-title {
            color: #1e7e34;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-section-title i {
            font-size: 20px;
        }
        
        /* File Upload Styles */
        .file-upload-area {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload-area:hover {
            border-color: #1e7e34;
            background: #e9f7ef;
        }
        
        .file-upload-area i {
            font-size: 40px;
            color: #1e7e34;
            margin-bottom: 15px;
        }
        
        .file-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .file-preview-item {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        
        .file-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Modal Header */
        .modal-header {
            border-bottom: 2px solid #1e7e34;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        
        .modal-header h3 {
            color: #1e7e34;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-header h3 i {
            color: #1e7e34;
        }
        
        /* Dark Green Button Styles */
        .add-property-btn {
            background-color: #1e7e34 !important;
            border-color: #1e7e34 !important;
            color: white !important;
            transition: all 0.3s;
        }
        
        .add-property-btn:hover {
            background-color: #155724 !important;
            border-color: #155724 !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(30, 126, 52, 0.3);
        }
        
        .submit-property-btn {
            background: linear-gradient(135deg, #1e7e34 0%, #155724 100%);
            border: none;
            padding: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .submit-property-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(30, 126, 52, 0.4);
        }
        
        /* Form Input Styling */
        .form-control:focus, .form-select:focus {
            border-color: #1e7e34;
            box-shadow: 0 0 0 0.25rem rgba(30, 126, 52, 0.25);
        }
        
        /* Welcome Message */
        .welcome-message {
            background: linear-gradient(135deg, #1e7e34 0%, #28a745 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .welcome-message h4 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .cta-buttons-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .cta-buttons-container button {
                width: 100%;
            }
            
            .header-buttons-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .header-buttons-container button,
            .header-buttons-container a {
                width: 100%;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .modal-content {
                padding: 20px;
                margin: 10px auto;
            }
            
            .search-box {
                padding: 15px;
            }
            
            .price-badge {
                padding: 6px 12px;
                font-size: 14px;
            }
        }
        
        /* Loading Spinner for Search */
        .search-loading {
            display: none;
            text-align: center;
            padding: 30px;
        }
        
        .search-loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1e7e34;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Required field indicator */
        .required-field::after {
            content: " *";
            color: #dc3545;
        }
        
        /* Form validation styling */
        .is-invalid {
            border-color: #dc3545;
        }
        
        .invalid-feedback {
            color: #dc3545;
            font-size: 0.875em;
            display: none;
        }
        
        .is-invalid ~ .invalid-feedback {
            display: block;
        }
        
        /* Progress bar for multi-step form (future enhancement) */
        .form-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
            padding: 10px 0;
        }
        
        .progress-step.active .step-number {
            background: #1e7e34;
            color: white;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        /* Price Range Slider */
        .price-range-slider {
            padding: 20px 0;
        }
        
        .range-values {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-weight: 600;
            color: #1e7e34;
        }
    </style>
</head>

<body>
    <div class="container-fluid bg-white p-0">
        <!-- WhatsApp Floating Button -->
        <div class="whatsapp-float" onclick="window.open('https://wa.me/351920326572?text=Hello%20RentCasaPT,%20I%20am%20interested%20in%20your%20properties', '_blank')">
            <i class="fab fa-whatsapp"></i>
        </div>

        <!-- Spinner Start -->
        <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

        <!-- Appointment Modal -->
        <div id="appointmentModal" class="appointment-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="modal-scroll-fix">
                    <h3 class="mb-4">Schedule an Appointment</h3>
                    <form id="appointmentForm">
                        <div class="mb-3">
                            <label for="name" class="form-label">Full Name *</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email Address *</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone Number *</label>
                            <input type="tel" class="form-control" id="phone" required>
                        </div>
                        <div class="mb-3">
                            <label for="date" class="form-label">Preferred Date *</label>
                            <input type="date" class="form-control" id="date" required>
                        </div>
                        <div class="mb-3">
                            <label for="time" class="form-label">Preferred Time *</label>
                            <select class="form-control" id="time" required>
                                <option value="">Select a time</option>
                                <option value="09:00">09:00 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="14:00">02:00 PM</option>
                                <option value="15:00">03:00 PM</option>
                                <option value="16:00">04:00 PM</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="property" class="form-label">Property Interest (Optional)</label>
                            <input type="text" class="form-control" id="property" placeholder="Property ID or Name">
                        </div>
                        <div class="mb-3">
                            <label for="message" class="form-label">Additional Notes</label>
                            <textarea class="form-control" id="message" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Schedule Appointment</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Add Property Modal -->
        <div id="addPropertyModal" class="appointment-modal">
            <div class="modal-content">
                <span class="close-modal close-property-modal">&times;</span>
                <div class="modal-scroll-fix">
                    <div class="modal-header">
                        <h3><i class="fas fa-home"></i> List Your Property</h3>
                    </div>
                    
                    <!-- Welcome Message (only shows on first visit) -->
                    <div class="welcome-message" id="welcomeMessage">
                        <h4><i class="fas fa-gift"></i> Welcome to RentCasaPT!</h4>
                        <p>List your property with us and reach thousands of potential buyers/renters. Get started now!</p>
                    </div>
                    
                    <form id="addPropertyForm">
                        <!-- Form Progress (Future Enhancement)
                        <div class="form-progress">
                            <div class="progress-step active">
                                <div class="step-number">1</div>
                                <div class="step-label">Basic Info</div>
                            </div>
                            <div class="progress-step">
                                <div class="step-number">2</div>
                                <div class="step-label">Details</div>
                            </div>
                            <div class="progress-step">
                                <div class="step-number">3</div>
                                <div class="step-label">Features</div>
                            </div>
                            <div class="progress-step">
                                <div class="step-number">4</div>
                                <div class="step-label">Contact</div>
                            </div>
                        </div>
                        -->

                        <!-- Section 1: Basic Information -->
                        <div class="form-section">
                            <h5 class="form-section-title"><i class="fas fa-info-circle"></i> Basic Information</h5>
                            
                            <!-- Transaction Type -->
                            <div class="mb-4">
                                <label class="form-label required-field">Transaction Type</label>
                                <div class="d-flex flex-wrap gap-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="transactionType" id="forSale" value="sale" checked required>
                                        <label class="form-check-label" for="forSale">
                                            <i class="fas fa-tag me-2"></i>For Sale
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="transactionType" id="forRent" value="rent" required>
                                        <label class="form-check-label" for="forRent">
                                            <i class="fas fa-key me-2"></i>For Rent
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Property Type -->
                            <div class="mb-4">
                                <label for="propertyType" class="form-label required-field">Property Type</label>
                                <select class="form-control" id="propertyType" required>
                                    <option value="">Select property type</option>
                                    <option value="apartment">üè¢ Apartment</option>
                                    <option value="house">üè† House</option>
                                    <option value="villa">üè° Villa</option>
                                    <option value="townhouse">üèòÔ∏è Townhouse</option>
                                    <option value="commercial">üè¨ Commercial</option>
                                    <option value="office">üíº Office</option>
                                    <option value="shop">üõçÔ∏è Shop</option>
                                    <option value="land">üåø Land</option>
                                    <option value="farm">üöú Farm</option>
                                    <option value="room">üõèÔ∏è Room</option>
                                    <option value="holiday">üèñÔ∏è Holiday Home</option>
                                </select>
                            </div>

                            <!-- Basic Information -->
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="title" class="form-label required-field">Property Title</label>
                                    <input type="text" class="form-control" id="title" placeholder="e.g., Modern Apartment in Lisbon with Sea View" required>
                                    <div class="invalid-feedback">Please enter a property title.</div>
                                </div>
                                <div class="form-group">
                                    <label for="price" class="form-label required-field">Price (‚Ç¨)</label>
                                    <input type="number" class="form-control" id="price" placeholder="e.g., 300000" min="0" required>
                                    <div class="invalid-feedback">Please enter a valid price.</div>
                                </div>
                            </div>

                            <!-- Location -->
                            <div class="mb-4">
                                <label for="location" class="form-label required-field">Location</label>
                                <input type="text" class="form-control" id="location" placeholder="Full address or area (e.g., Avenida da Liberdade, Lisbon)" required>
                                <div class="invalid-feedback">Please enter a location.</div>
                            </div>
                        </div>

                        <!-- Section 2: Property Details -->
                        <div class="form-section">
                            <h5 class="form-section-title"><i class="fas fa-expand-alt"></i> Property Details</h5>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="bedrooms" class="form-label">Bedrooms</label>
                                    <select class="form-control" id="bedrooms">
                                        <option value="">Select</option>
                                        <option value="0">0 (Studio)</option>
                                        <option value="1">1 Bedroom</option>
                                        <option value="2">2 Bedrooms</option>
                                        <option value="3">3 Bedrooms</option>
                                        <option value="4">4 Bedrooms</option>
                                        <option value="5+">5+ Bedrooms</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="bathrooms" class="form-label">Bathrooms</label>
                                    <select class="form-control" id="bathrooms">
                                        <option value="">Select</option>
                                        <option value="1">1 Bathroom</option>
                                        <option value="2">2 Bathrooms</option>
                                        <option value="3">3 Bathrooms</option>
                                        <option value="4">4 Bathrooms</option>
                                        <option value="5+">5+ Bathrooms</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="area" class="form-label">Area (m¬≤)</label>
                                    <input type="number" class="form-control" id="area" placeholder="e.g., 120" min="0">
                                </div>
                            </div>

                            <!-- Price Range for Rentals -->
                            <div id="rentalFields" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="rentalPeriod" class="form-label">Rental Period</label>
                                        <select class="form-control" id="rentalPeriod">
                                            <option value="">Select</option>
                                            <option value="monthly">Monthly</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="daily">Daily</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="securityDeposit" class="form-label">Security Deposit</label>
                                        <input type="number" class="form-control" id="securityDeposit" placeholder="e.g., 1500" min="0">
                                    </div>
                                </div>
                            </div>

                            <!-- Description -->
                            <div class="mb-4">
                                <label for="description" class="form-label required-field">Description</label>
                                <textarea class="form-control" id="description" rows="4" placeholder="Describe your property in detail. Include unique features, amenities, nearby attractions, and any special features..." required></textarea>
                                <div class="invalid-feedback">Please enter a property description.</div>
                                <small class="text-muted">Tip: Detailed descriptions get 3x more views!</small>
                            </div>
                        </div>

                        <!-- Section 3: Features & Amenities -->
                        <div class="form-section">
                            <h5 class="form-section-title"><i class="fas fa-star"></i> Features & Amenities</h5>
                            
                            <div class="features-grid">
                                <div class="feature-item">
                                    <input type="checkbox" id="featurePool" class="form-check-input">
                                    <label for="featurePool" class="form-check-label">üèä Pool</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureGarden" class="form-check-input">
                                    <label for="featureGarden" class="form-check-label">üå≥ Garden</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureParking" class="form-check-input">
                                    <label for="featureParking" class="form-check-label">üÖøÔ∏è Parking</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureBalcony" class="form-check-input">
                                    <label for="featureBalcony" class="form-check-label">üåá Balcony</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureAC" class="form-check-input">
                                    <label for="featureAC" class="form-check-label">‚ùÑÔ∏è Air Conditioning</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureHeating" class="form-check-input">
                                    <label for="featureHeating" class="form-check-label">üî• Heating</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureFurnished" class="form-check-input">
                                    <label for="featureFurnished" class="form-check-label">üõãÔ∏è Furnished</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureElevator" class="form-check-input">
                                    <label for="featureElevator" class="form-check-label">üîº Elevator</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureStorage" class="form-check-input">
                                    <label for="featureStorage" class="form-check-label">üì¶ Storage</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureFireplace" class="form-check-input">
                                    <label for="featureFireplace" class="form-check-label">üî• Fireplace</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featurePetFriendly" class="form-check-input">
                                    <label for="featurePetFriendly" class="form-check-label">üêæ Pet Friendly</label>
                                </div>
                                <div class="feature-item">
                                    <input type="checkbox" id="featureWifi" class="form-check-input">
                                    <label for="featureWifi" class="form-check-label">üì∂ WiFi</label>
                                </div>
                            </div>
                        </div>

                        <!-- Section 4: Images -->
                        <div class="form-section">
                            <h5 class="form-section-title"><i class="fas fa-camera"></i> Property Images</h5>
                            
                            <div class="file-upload-area" id="fileUploadArea">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h5>Drag & Drop or Click to Upload</h5>
                                <p class="text-muted">Upload high-quality images of your property (Max 10 images, 5MB each)</p>
                                <p class="text-muted">Supported formats: JPG, PNG, WebP</p>
                                <input type="file" class="form-control d-none" id="propertyImages" multiple accept="image/*">
                            </div>
                            
                            <div class="file-preview" id="filePreview"></div>
                        </div>

                        <!-- Section 5: Contact Information -->
                        <div class="form-section">
                            <h5 class="form-section-title"><i class="fas fa-address-card"></i> Contact Information</h5>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contactName" class="form-label required-field">Contact Name</label>
                                    <input type="text" class="form-control" id="contactName" required>
                                    <div class="invalid-feedback">Please enter your name.</div>
                                </div>
                                <div class="form-group">
                                    <label for="contactPhone" class="form-label required-field">Contact Phone</label>
                                    <input type="tel" class="form-control" id="contactPhone" required>
                                    <div class="invalid-feedback">Please enter a valid phone number.</div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="contactEmail" class="form-label required-field">Contact Email</label>
                                <input type="email" class="form-control" id="contactEmail" required>
                                <div class="invalid-feedback">Please enter a valid email address.</div>
                            </div>
                            
                            <!-- Preferred Contact Method -->
                            <div class="mb-4">
                                <label class="form-label">Preferred Contact Method</label>
                                <div class="d-flex flex-wrap gap-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="contactByPhone" checked>
                                        <label class="form-check-label" for="contactByPhone">
                                            <i class="fas fa-phone me-2"></i>Phone
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="contactByEmail" checked>
                                        <label class="form-check-label" for="contactByEmail">
                                            <i class="fas fa-envelope me-2"></i>Email
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="contactByWhatsApp">
                                        <label class="form-check-label" for="contactByWhatsApp">
                                            <i class="fab fa-whatsapp me-2"></i>WhatsApp
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Terms and Conditions -->
                        <div class="mb-4 form-check">
                            <input type="checkbox" class="form-check-input" id="termsAgreement" required>
                            <label class="form-check-label" for="termsAgreement">
                                I agree to the <a href="#" class="text-primary">Terms and Conditions</a> and confirm that all information provided is accurate. I understand that RentCasaPT may contact me for verification.
                            </label>
                            <div class="invalid-feedback">You must agree to the terms and conditions.</div>
                        </div>

                        <button type="submit" class="btn submit-property-btn w-100 py-3">
                            <i class="fas fa-paper-plane me-2"></i>Submit Property Listing
                        </button>
                        
                        <div class="text-center mt-3">
                            <small class="text-muted">
                                <i class="fas fa-shield-alt me-2"></i>Your information is secure and will not be shared with third parties.
                            </small>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Navbar Start -->
        <div class="container-fluid nav-bar bg-transparent">
            <nav class="navbar navbar-expand-lg bg-white navbar-light py-0 px-4">
                <a href="index.html" class="navbar-brand d-flex align-items-center text-center">
                    <div class="icon p-2 me-2">
                        <img class="img-fluid" src="img/icon-deal.png" alt="Icon" style="width: 30px; height: 30px;">
                    </div>
                    <h1 class="m-0 text-primary">RentCasaPT</h1>
                </a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto">
                        <a href="index.html" class="nav-item nav-link active">Home</a>
                        <a href="about.html" class="nav-item nav-link">About</a>
                        <a href="services.html" class="nav-item nav-link">Our Services</a>
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Property</a>
                            <div class="dropdown-menu rounded-0 m-0">
                                <a href="property-list.html" class="dropdown-item">Property List</a>
                                <a href="property-type.html" class="dropdown-item">Property Type</a>
                                <a href="property-agent.html" class="dropdown-item">Property Agent</a>
                            </div>
                        </div>
                                                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Portfolio</a>
                            <div class="dropdown-menu rounded-0 m-0">
                                <a href="testimonial.html" class="dropdown-item">Testimonials</a>
                                <a href="404.html" class="dropdown-item">404 Error</a>
                            </div>
                        </div>
                        <a href="contact.html" class="nav-item nav-link">Contact</a>
                    </div>
                    <a href="#" class="btn btn-success px-3 d-none d-lg-flex add-property-btn" id="addPropertyBtn">
                        <i class="fas fa-plus me-2"></i>Add Property
                    </a>
                </div>
            </nav>
        </div>
        <!-- Navbar End -->

        <!-- Header Start -->
        <div class="container-fluid header bg-white p-0">
            <div class="row g-0 align-items-center flex-column-reverse flex-md-row">
                <div class="col-md-6 p-5 mt-lg-5">
                    <h1 class="display-5 animated fadeIn mb-4">Find Your <span class="text-primary">Dream Home</span> in Beautiful Portugal</h1>
                    <p class="animated fadeIn mb-4 pb-2">Discover premium properties across Portugal's most sought-after locations. From sunny Algarve villas to Lisbon's modern apartments, we help you find the perfect place to call home.</p>
                    <div class="header-buttons-container">
                        <a href="#featured-properties" class="btn btn-primary py-3 px-5 animated fadeIn">Browse Properties</a>
                        <div class="cta-phone-container">
                            <button class="btn btn-outline-primary py-3 px-5 animated fadeIn header-phone-btn" id="headerPhoneBtn">
                                Call Now<i class="fa fa-phone-alt ms-2"></i>
                            </button>
                            <div class="phone-number" id="headerPhoneNumber">+351 920326572</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 animated fadeIn">
                    <div class="owl-carousel header-carousel">
                        <div class="owl-carousel-item">
                            <img class="img-fluid" src="img/carousel-1.jpg" alt="Luxury Villa in Algarve">
                        </div>
                        <div class="owl-carousel-item">
                            <img class="img-fluid" src="img/carousel-2.jpg" alt="Modern Apartment in Lisbon">
                        </div>
                        <div class="owl-carousel-item">
                            <img class="img-fluid" src="img/carousel-3.jpg" alt="Traditional House in Porto">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header End -->

        <!-- Search Section Start -->
        <div class="container-fluid search-filter-section wow fadeIn" data-wow-delay="0.1s">
            <div class="container">
                <div class="search-box">
                    <h4 class="mb-4 text-center text-dark">Find Your Perfect Property</h4>
                    
                    <!-- Search Form -->
                    <div class="row g-3 mb-4">
                        <div class="col-md-4">
                            <div class="input-group">
                                <span class="input-group-text bg-primary text-white"><i class="fas fa-search"></i></span>
                                <input type="text" class="form-control" id="searchInput" placeholder="Search by location or keyword">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="propertyTypeFilter">
                                <option value="">All Property Types</option>
                                <option value="apartment">Apartments (T0‚ÄìT4+)</option>
                                <option value="house">Houses & Villas</option>
                                <option value="commercial">Commercial & Mixed-Use</option>
                                <option value="room">Rooms</option>
                                <option value="holiday">Holiday / Alojamento Local</option>
                                <option value="land">Land & Plots</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="locationFilter">
                                <option value="">All Locations</option>
                                <option value="lisbon">Lisbon</option>
                                <option value="porto">Porto</option>
                                <option value="algarve">Algarve</option>
                                <option value="madeira">Madeira</option>
                                <option value="coimbra">Coimbra</option>
                                <option value="braga">Braga</option>
                                <option value="aveiro">Aveiro</option>
                                <option value="faro">Faro</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-dark w-100" id="searchButton">
                                <i class="fas fa-search me-2"></i>Search
                            </button>
                        </div>
                    </div>
                    
                    <!-- Price Filter -->
                    <div class="mb-4">
                        <h6 class="mb-3 text-dark">Price Range</h6>
                        <div class="d-flex flex-wrap gap-2">
                            <span class="price-badge bg-light text-dark filter-price" data-price="all">All Prices</span>
                            <span class="price-badge bg-light text-dark filter-price" data-price="under200k">Under ‚Ç¨200,000</span>
                            <span class="price-badge bg-light text-dark filter-price" data-price="200k-500k">‚Ç¨200K - ‚Ç¨500K</span>
                            <span class="price-badge bg-light text-dark filter-price" data-price="500k-1m">‚Ç¨500K - ‚Ç¨1M</span>
                            <span class="price-badge bg-light text-dark filter-price" data-price="over1m">Over ‚Ç¨1M</span>
                        </div>
                    </div>
                    
                    <!-- Additional Filters -->
                    <div class="row">
                        <div class="col-md-4">
                            <select class="form-select" id="bedroomsFilter">
                                <option value="">Bedrooms (Any)</option>
                                <option value="0">Studio</option>
                                <option value="1">1 Bedroom</option>
                                <option value="2">2 Bedrooms</option>
                                <option value="3">3 Bedrooms</option>
                                <option value="4">4+ Bedrooms</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <select class="form-select" id="transactionType">
                                <option value="">For Sale or Rent</option>
                                <option value="sale">For Sale</option>
                                <option value="rent">For Rent</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <button class="btn btn-outline-primary w-100" id="clearFilters">
                                <i class="fas fa-times me-2"></i>Clear Filters
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Search Results Counter -->
                <div class="search-results-count mt-4" id="resultsCounter" style="display: none;">
                    <div>
                        <h5 class="mb-0" id="resultsCount">0 Properties Found</h5>
                        <small class="text-muted" id="activeFilters"></small>
                    </div>
                    <div class="search-loading" id="searchLoading">
                        <div class="search-loading-spinner"></div>
                        <small>Searching properties...</small>
                    </div>
                </div>
            </div>
        </div>
        <!-- Search Section End -->

        <!-- Featured Properties Start -->
        <div class="container-xxl py-5" id="featured-properties">
            <div class="container">
                <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                    <h1 class="mb-3">Featured Properties</h1>
                    <p>Browse our selection of premium properties. Each listing has been carefully curated to ensure quality and value for our clients.</p>
                </div>
                
                <!-- Property Tabs -->
                <div class="row g-0 gx-5 align-items-end mb-4">
                    <div class="col-lg-6">
                        <ul class="nav nav-pills d-inline-flex" id="propertyTabs">
                            <li class="nav-item me-2">
                                <a class="btn btn-outline-primary active property-tab" data-filter="all">All Properties</a>
                            </li>
                            <li class="nav-item me-2">
                                <a class="btn btn-outline-primary property-tab" data-filter="sale">For Sale</a>
                            </li>
                            <li class="nav-item">
                                <a class="btn btn-outline-primary property-tab" data-filter="rent">For Rent</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-6 text-start text-lg-end">
                        <select class="form-select d-inline-block w-auto" id="sortProperties">
                            <option value="featured">Sort by: Featured</option>
                            <option value="price_low">Price: Low to High</option>
                            <option value="price_high">Price: High to Low</option>
                            <option value="newest">Newest First</option>
                            <option value="area">Largest Area</option>
                        </select>
                    </div>
                </div>
                
                <!-- Properties Container -->
                <div class="row g-4" id="propertyContainer">
                    <!-- Properties will be dynamically loaded here -->
                </div>
                
                <!-- Loading Spinner -->
                <div class="text-center mt-5" id="loadingSpinner" style="display: none;">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2">Loading more properties...</p>
                </div>
                
                <!-- Load More Button -->
                <div class="text-center mt-5" id="loadMoreContainer">
                    <button class="btn btn-primary py-3 px-5" id="loadMoreBtn">Load More Properties</button>
                </div>
            </div>
        </div>
        <!-- Featured Properties End -->

        <!-- Category Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                    <h1 class="mb-3">Explore Property Types</h1>
                    <p>Discover the perfect property type that matches your lifestyle. From cozy apartments to luxurious villas, we have options for every preference and budget.</p>
                </div>
                <div class="row g-4">
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=apartment">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-apartment.png" alt="Apartment Icon">
                                </div>
                                <h6>Apartments</h6>
                                <span>245 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=villa">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-villa.png" alt="Villa Icon">
                                </div>
                                <h6>Villas</h6>
                                <span>89 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=house">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-house.png" alt="House Icon">
                                </div>
                                <h6>Family Homes</h6>
                                <span>167 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=commercial">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-housing.png" alt="Commercial Icon">
                                </div>
                                <h6>Commercial</h6>
                                <span>42 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=building">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-building.png" alt="Building Icon">
                                </div>
                                <h6>Buildings</h6>
                                <span>18 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=townhouse">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-neighborhood.png" alt="Townhouse Icon">
                                </div>
                                <h6>Townhouses</h6>
                                <span>76 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=shop">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-condominium.png" alt="Shop Icon">
                                </div>
                                <h6>Retail Spaces</h6>
                                <span>31 Properties</span>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                        <a class="cat-item d-block bg-light text-center rounded p-3" href="property-type.html?type=land">
                            <div class="rounded p-4">
                                <div class="icon mb-3">
                                    <img class="img-fluid" src="img/icon-luxury.png" alt="Land Icon">
                                </div>
                                <h6>Land & Plots</h6>
                                <span>54 Properties</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Category End -->

        <!-- About Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="row g-5 align-items-center">
                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                        <div class="about-img position-relative overflow-hidden p-5 pe-0">
                            <img class="img-fluid w-100" src="img/about.jpg" alt="RentCasaPT Team">
                        </div>
                    </div>
                    <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                        <h1 class="mb-4">Your Trusted Real Estate Partner in Portugal</h1>
                        <p class="mb-4">With over 15 years of experience in the Portuguese real estate market, RentCasaPT has helped thousands of families and investors find their perfect property. Our deep local knowledge and international expertise make us the ideal partner for your property journey.</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Personalized property search tailored to your needs</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Expert legal and financial guidance</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Multilingual team serving international clients</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Comprehensive after-sales support</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Market insights and investment advice</p>
                        <a class="btn btn-primary py-3 px-5 mt-3" href="about.html">Learn More About Us</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- About End -->

        <!-- Call to Action Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="bg-light rounded p-3">
                    <div class="bg-white rounded p-4" style="border: 1px dashed rgba(6, 78, 59, .35)">
                        <div class="row g-5 align-items-center">
                            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                                <img class="img-fluid rounded w-100" src="img/call-to-action.jpg" alt="Contact Our Agent">
                            </div>
                            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                                <div class="mb-4">
                                    <h1 class="mb-3">Contact Our Certified Agent Today</h1>
                                    <p>Our experienced real estate agents are ready to help you find your dream property. Get personalized advice and expert guidance throughout your property search journey.</p>
                                </div>
                                
                                <!-- UPDATED BUTTONS IN ONE LINE -->
                                <div class="cta-buttons-container">
                                    <!-- Make A Call Button -->
                                    <div class="cta-phone-container">
                                        <button class="btn btn-primary py-3 px-4 cta-phone-btn" id="ctaPhoneBtn">
                                            Make A Call<i class="fa fa-phone-alt ms-2"></i>
                                        </button>
                                        <div class="phone-number" id="ctaPhoneNumber">+351 920326572</div>
                                    </div>
                                    
                                    <!-- Get Appointment Button -->
                                    <button class="btn btn-dark py-3 px-4 cta-appointment-btn" id="appointmentBtn">
                                        <i class="fa fa-calendar-alt me-2"></i>Get Appointment
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Call to Action End -->

        <!-- Team Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                    <h1 class="mb-3">Meet Our Expert Agents</h1>
                    <p>Our team of certified real estate professionals brings extensive market knowledge and personalized service to help you find the perfect property.</p>
                </div>
                <div class="row g-4">
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                        <div class="team-item rounded overflow-hidden">
                            <div class="position-relative">
                                <img class="img-fluid" src="img/team-1.jpg" alt="Ana Silva - Senior Agent">
                                <div class="position-absolute start-50 top-100 translate-middle d-flex align-items-center">
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-linkedin-in"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-instagram"></i></a>
                                </div>
                            </div>
                            <div class="text-center p-4 mt-3">
                                <h5 class="fw-bold mb-0">Ana Silva</h5>
                                <small>Senior Real Estate Agent</small>
                                <p class="text-muted small mt-2">Specializes in Lisbon properties</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                        <div class="team-item rounded overflow-hidden">
                            <div class="position-relative">
                                <img class="img-fluid" src="img/team-2.jpg" alt="Carlos Mendes - Luxury Specialist">
                                <div class="position-absolute start-50 top-100 translate-middle d-flex align-items-center">
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-linkedin-in"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-instagram"></i></a>
                                </div>
                            </div>
                            <div class="text-center p-4 mt-3">
                                <h5 class="fw-bold mb-0">Carlos Mendes</h5>
                                <small>Luxury Properties Specialist</small>
                                <p class="text-muted small mt-2">Expert in Algarve villas</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                        <div class="team-item rounded overflow-hidden">
                            <div class="position-relative">
                                <img class="img-fluid" src="img/team-3.jpg" alt="Mariana Costa - International Clients">
                                <div class="position-absolute start-50 top-100 translate-middle d-flex align-items-center">
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-linkedin-in"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-instagram"></i></a>
                                </div>
                            </div>
                            <div class="text-center p-4 mt-3">
                                <h5 class="fw-bold mb-0">Mariana Costa</h5>
                                <small>International Client Manager</small>
                                <p class="text-muted small mt-2">Fluent in English & French</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.7s">
                        <div class="team-item rounded overflow-hidden">
                            <div class="position-relative">
                                <img class="img-fluid" src="img/team-4.jpg" alt="Jo√£o Santos - Commercial Expert">
                                <div class="position-absolute start-50 top-100 translate-middle d-flex align-items-center">
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-linkedin-in"></i></a>
                                    <a class="btn btn-square mx-1" href="#"><i class="fab fa-instagram"></i></a>
                                </div>
                            </div>
                            <div class="text-center p-4 mt-3">
                                <h5 class="fw-bold mb-0">Jo√£o Santos</h5>
                                <small>Commercial Properties Expert</small>
                                <p class="text-muted small mt-2">Porto market specialist</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Team End -->

        <!-- Testimonial Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                    <h1 class="mb-3">What Our Clients Say</h1>
                    <p>Don't just take our word for it. Read what our satisfied clients have to say about their experience with RentCasaPT.</p>
                </div>
                <div class="owl-carousel testimonial-carousel wow fadeInUp" data-wow-delay="0.1s">
                    <div class="testimonial-item bg-light rounded p-3">
                        <div class="bg-white border rounded p-4">
                            <p>"RentCasaPT made our move to Portugal seamless. Ana helped us find the perfect family home in Lisbon within our budget. Their support with paperwork and legal requirements was invaluable."</p>
                            <div class="d-flex align-items-center">
                                <img class="img-fluid flex-shrink-0 rounded" src="img/testimonial-1.jpg" style="width: 45px; height: 45px;" alt="Sarah Johnson">
                                <div class="ps-3">
                                    <h6 class="fw-bold mb-1">Sarah Johnson</h6>
                                    <small>Family from UK, Lisbon Homeowner</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-item bg-light rounded p-3">
                        <div class="bg-white border rounded p-4">
                            <p>"As an investor, I needed reliable local expertise. Carlos found me three excellent properties in Algarve that have shown great returns. The team's market knowledge is outstanding."</p>
                            <div class="d-flex align-items-center">
                                <img class="img-fluid flex-shrink-0 rounded" src="img/testimonial-2.jpg" style="width: 45px; height: 45px;" alt="Michael Chen">
                                <div class="ps-3">
                                    <h6 class="fw-bold mb-1">Michael Chen</h6>
                                    <small>International Investor</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-item bg-light rounded p-3">
                        <div class="bg-white border rounded p-4">
                            <p>"Mariana's multilingual support was crucial for us as French speakers. She understood exactly what we were looking for and found our dream villa in Porto. Highly recommended!"</p>
                            <div class="d-flex align-items-center">
                                <img class="img-fluid flex-shrink-0 rounded" src="img/testimonial-3.jpg" style="width: 45px; height: 45px;" alt="Sophie Laurent">
                                <div class="ps-3">
                                    <h6 class="fw-bold mb-1">Sophie Laurent</h6>
                                    <small>Porto Villa Owner from France</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Testimonial End -->

        <!-- Footer Start -->
        <div class="container-fluid bg-dark text-white-50 footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
            <div class="container py-5">
                <div class="row g-5">
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Contact Us</h5>
                        <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Avenida da Liberdade 245, Lisbon, Portugal</p>
                        <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+351 920326572</p>
                        <p class="mb-2"><i class="fa fa-envelope me-3"></i>info@rentcasapt.com</p>
                        <div class="d-flex pt-2">
                            <a class="btn btn-outline-light btn-social" href="#"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-social" href="#"><i class="fab fa-instagram"></i></a>
                            <a class="btn btn-outline-light btn-social" href="#"><i class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-light btn-social" onclick="window.open('https://wa.me/351920326572', '_blank')">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Quick Links</h5>
                        <a class="btn btn-link text-white-50" href="index.html">Home</a>
                        <a class="btn btn-link text-white-50" href="about.html">About Us</a>
                        <a class="btn btn-link text-white-50" href="services.html">Our Services</a>
                        <a class="btn btn-link text-white-50" href="property-list.html">Property Listings</a>
                        <a class="btn btn-link text-white-50" href="contact.html">Contact Us</a>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Property Gallery</h5>
                        <div class="row g-2 pt-2">
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-1.jpg" alt="Property 1">
                            </div>
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-2.jpg" alt="Property 2">
                            </div>
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-3.jpg" alt="Property 3">
                            </div>
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-4.jpg" alt="Property 4">
                            </div>
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-5.jpg" alt="Property 5">
                            </div>
                            <div class="col-4">
                                <img class="img-fluid rounded bg-light p-1" src="img/property-6.jpg" alt="Property 6">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Newsletter</h5>
                        <p>Subscribe to receive property updates and market insights in Portugal.</p>
                        <div class="position-relative mx-auto" style="max-width: 400px;">
                            <input class="form-control bg-transparent w-100 py-3 ps-4 pe-5" type="email" placeholder="Your email" id="newsletterEmail">
                            <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2" id="subscribeBtn">Subscribe</button>
                        </div>
                        <div class="mt-3">
                            <small class="text-white-50">By subscribing, you agree to our Privacy Policy</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="copyright">
                    <div class="row">
                        <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                            &copy; <a class="border-bottom" href="index.html">RentCasaPT</a>, All Rights Reserved. 
                            <br>AMI: 12345 | Licensed Real Estate Agency
                        </div>
                        <div class="col-md-6 text-center text-md-end">
                            <div class="footer-menu">
                                <a href="privacy.html" class="text-white-50 me-3">Privacy Policy</a>
                                <a href="terms.html" class="text-white-50">Terms & Conditions</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End -->

        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    
    <script>
        // Enhanced property data
        const properties = [
            {
                id: 1,
                title: "Modern Luxury Apartment in Lisbon",
                price: 450000,
                type: "apartment",
                location: "lisbon",
                status: "sale",
                featured: true,
                image: "img/property-1.jpg",
                description: "Stunning 3-bedroom apartment with panoramic city views in prime Lisbon location. Fully renovated with premium finishes.",
                details: {
                    sqft: 120,
                    beds: 3,
                    baths: 2,
                    year: 2020
                },
                features: ["Balcony", "Air Conditioning", "Parking", "Elevator"]
            },
            {
                id: 2,
                title: "Beachfront Villa in Algarve",
                price: 850000,
                type: "villa",
                location: "algarve",
                status: "sale",
                featured: true,
                image: "img/property-2.jpg",
                description: "Luxury 4-bedroom villa with private pool and direct sea views. Perfect for family living or vacation home.",
                details: {
                    sqft: 280,
                    beds: 4,
                    baths: 3,
                    year: 2018
                },
                features: ["Pool", "Garden", "Parking", "AC", "Fireplace"]
            },
            {
                id: 3,
                title: "City Center Office Space",
                price: 320000,
                type: "commercial",
                location: "porto",
                status: "sale",
                featured: true,
                image: "img/property-3.jpg",
                description: "Prime commercial space in Porto's business district. Ideal for startups or established businesses.",
                details: {
                    sqft: 180,
                    beds: 0,
                    baths: 2,
                    year: 2021
                },
                features: ["AC", "Elevator", "Storage", "Parking"]
            },
            {
                id: 4,
                title: "Monthly Rental Apartment",
                price: 1200,
                type: "apartment",
                location: "lisbon",
                status: "rent",
                featured: true,
                image: "img/property-4.jpg",
                description: "Fully furnished 2-bedroom apartment in prime location. Perfect for professionals or small families.",
                details: {
                    sqft: 95,
                    beds: 2,
                    baths: 1,
                    year: 2019
                },
                features: ["Furnished", "Balcony", "AC", "Elevator", "WiFi"]
            },
            {
                id: 5,
                title: "Traditional Townhouse",
                price: 275000,
                type: "townhouse",
                location: "coimbra",
                status: "sale",
                featured: true,
                image: "img/property-5.jpg",
                description: "Charming renovated townhouse in historic center. Perfect blend of traditional and modern.",
                details: {
                    sqft: 160,
                    beds: 3,
                    baths: 2,
                    year: 2015
                },
                features: ["Garden", "Fireplace", "Storage", "Parking"]
            },
            {
                id: 6,
                title: "Luxury Penthouse",
                price: 1250000,
                type: "apartment",
                location: "lisbon",
                status: "sale",
                featured: true,
                image: "img/property-6.jpg",
                description: "Exclusive penthouse with private terrace and pool. Top floor luxury living with panoramic views.",
                details: {
                    sqft: 320,
                    beds: 4,
                    baths: 3,
                    year: 2022
                },
                features: ["Pool", "Balcony", "AC", "Elevator", "Parking", "Fireplace"]
            },
            {
                id: 7,
                title: "Studio Apartment for Rent",
                price: 800,
                type: "apartment",
                location: "porto",
                status: "rent",
                featured: false,
                image: "img/property-1.jpg",
                description: "Modern studio apartment in city center. Fully furnished and ready to move in.",
                details: {
                    sqft: 45,
                    beds: 0,
                    baths: 1,
                    year: 2020
                },
                features: ["Furnished", "AC", "Elevator", "WiFi"]
            },
            {
                id: 8,
                title: "Country House with Land",
                price: 350000,
                type: "house",
                location: "aveiro",
                status: "sale",
                featured: false,
                image: "img/property-2.jpg",
                description: "Spacious country house with 2 acres of land. Perfect for nature lovers.",
                details: {
                    sqft: 200,
                    beds: 3,
                    baths: 2,
                    year: 2010
                },
                features: ["Garden", "Parking", "Storage", "Fireplace"]
            }
        ];

        // DOM Elements
        const appointmentModal = document.getElementById('appointmentModal');
        const addPropertyModal = document.getElementById('addPropertyModal');
        const appointmentBtn = document.getElementById('appointmentBtn');
        const addPropertyBtn = document.getElementById('addPropertyBtn');
        const closeModal = document.querySelector('.close-modal');
        const closePropertyModal = document.querySelector('.close-property-modal');
        const appointmentForm = document.getElementById('appointmentForm');
        const addPropertyForm = document.getElementById('addPropertyForm');
        const propertyContainer = document.getElementById('propertyContainer');
        const searchButton = document.getElementById('searchButton');
        const searchInput = document.getElementById('searchInput');
        const propertyTypeFilter = document.getElementById('propertyTypeFilter');
        const locationFilter = document.getElementById('locationFilter');
        const filterPrices = document.querySelectorAll('.filter-price');
        const propertyTabs = document.querySelectorAll('.property-tab');
        const sortProperties = document.getElementById('sortProperties');
        const clearFilters = document.getElementById('clearFilters');
        const bedroomsFilter = document.getElementById('bedroomsFilter');
        const transactionTypeFilter = document.getElementById('transactionType');
        const resultsCounter = document.getElementById('resultsCounter');
        const resultsCount = document.getElementById('resultsCount');
        const activeFilters = document.getElementById('activeFilters');
        const searchLoading = document.getElementById('searchLoading');
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const loadMoreContainer = document.getElementById('loadMoreContainer');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const fileUploadArea = document.getElementById('fileUploadArea');
        const propertyImagesInput = document.getElementById('propertyImages');
        const filePreview = document.getElementById('filePreview');
        const rentalFields = document.getElementById('rentalFields');

        // Phone buttons
        const headerPhoneBtn = document.getElementById('headerPhoneBtn');
        const ctaPhoneBtn = document.getElementById('ctaPhoneBtn');

        // Current filter state
        let currentFilters = {
            keyword: '',
            type: '',
            location: '',
            price: 'all',
            status: 'all',
            bedrooms: '',
            transaction: '',
            sort: 'featured',
            limit: 6,
            offset: 0
        };

        // Check if it's first visit
        function isFirstVisit() {
            return !localStorage.getItem('propertyFormShown');
        }

        // Mark form as shown
        function markFormAsShown() {
            localStorage.setItem('propertyFormShown', 'true');
        }

        // Show welcome message only on first visit
        function setupWelcomeMessage() {
            if (isFirstVisit()) {
                welcomeMessage.style.display = 'block';
                // Show modal after 2 seconds
                setTimeout(() => {
                    addPropertyModal.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }, 2000);
            } else {
                welcomeMessage.style.display = 'none';
            }
        }

        // Initialize properties
        function initializeProperties() {
            renderProperties(getFilteredProperties());
            updateResultsCounter();
        }

        // Get filtered properties
        function getFilteredProperties() {
            let filtered = [...properties];
            
            // Filter by status
            if (currentFilters.status !== 'all') {
                filtered = filtered.filter(p => p.status === currentFilters.status);
            }
            
            // Filter by transaction type
            if (currentFilters.transaction) {
                filtered = filtered.filter(p => p.status === currentFilters.transaction);
            }
            
            // Filter by keyword
            if (currentFilters.keyword) {
                const keyword = currentFilters.keyword.toLowerCase();
                filtered = filtered.filter(p => 
                    p.title.toLowerCase().includes(keyword) || 
                    p.description.toLowerCase().includes(keyword) ||
                    p.location.toLowerCase().includes(keyword) ||
                    p.features.some(f => f.toLowerCase().includes(keyword))
                );
            }
            
            // Filter by type
            if (currentFilters.type) {
                filtered = filtered.filter(p => p.type === currentFilters.type);
            }
            
            // Filter by location
            if (currentFilters.location) {
                filtered = filtered.filter(p => p.location === currentFilters.location);
            }
            
            // Filter by bedrooms
            if (currentFilters.bedrooms) {
                if (currentFilters.bedrooms === '4') {
                    filtered = filtered.filter(p => p.details.beds >= 4);
                } else {
                    filtered = filtered.filter(p => p.details.beds == currentFilters.bedrooms);
                }
            }
            
            // Filter by price
            if (currentFilters.price !== 'all') {
                switch(currentFilters.price) {
                    case 'under200k':
                        filtered = filtered.filter(p => p.price < 200000);
                        break;
                    case '200k-500k':
                        filtered = filtered.filter(p => p.price >= 200000 && p.price <= 500000);
                        break;
                    case '500k-1m':
                        filtered = filtered.filter(p => p.price > 500000 && p.price <= 1000000);
                        break;
                    case 'over1m':
                        filtered = filtered.filter(p => p.price > 1000000);
                        break;
                }
            }
            
            // Sort properties
            filtered = sortPropertiesList(filtered);
            
            return filtered;
        }

        // Sort properties
        function sortPropertiesList(propertiesList) {
            switch(currentFilters.sort) {
                case 'price_low':
                    return propertiesList.sort((a, b) => a.price - b.price);
                case 'price_high':
                    return propertiesList.sort((a, b) => b.price - a.price);
                case 'newest':
                    return propertiesList.sort((a, b) => b.details.year - a.details.year);
                case 'area':
                    return propertiesList.sort((a, b) => b.details.sqft - a.details.sqft);
                default: // featured
                    return propertiesList.sort((a, b) => b.featured - a.featured);
            }
        }

        // Render properties
        function renderProperties(filteredProperties, append = false) {
            if (!append) {
                propertyContainer.innerHTML = '';
                currentFilters.offset = 0;
            }
            
            if (filteredProperties.length === 0) {
                propertyContainer.innerHTML = `
                    <div class="col-12 text-center">
                        <div class="no-results">
                            <div class="no-results-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h4>No properties found</h4>
                            <p>Try adjusting your search criteria</p>
                            <button class="btn btn-primary mt-3" id="clearFiltersBtn">Clear All Filters</button>
                        </div>
                    </div>
                `;
                
                // Add event listener to clear filters button
                const clearFiltersBtn = document.getElementById('clearFiltersBtn');
                if (clearFiltersBtn) {
                    clearFiltersBtn.addEventListener('click', clearAllFilters);
                }
                
                loadMoreContainer.style.display = 'none';
                return;
            }
            
            // Get properties to show based on limit
            const propertiesToShow = filteredProperties.slice(currentFilters.offset, currentFilters.offset + currentFilters.limit);
            
            propertiesToShow.forEach(property => {
                const propertyElement = createPropertyElement(property);
                propertyContainer.appendChild(propertyElement);
            });
            
            // Show/Hide load more button
            if (currentFilters.offset + currentProperties.length < filteredProperties.length) {
                loadMoreContainer.style.display = 'block';
            } else {
                loadMoreContainer.style.display = 'none';
            }
            
            // Update results counter
            updateResultsCounter();
        }

        // Create property element
        function createPropertyElement(property) {
            const div = document.createElement('div');
            div.className = 'col-lg-4 col-md-6 wow fadeInUp';
            div.setAttribute('data-wow-delay', '0.1s');
            
            const priceType = property.status === 'rent' ? '/month' : '';
            const statusText = property.status === 'rent' ? 'For Rent' : 'For Sale';
            const typeText = property.type.charAt(0).toUpperCase() + property.type.slice(1);
            const locationText = property.location.charAt(0).toUpperCase() + property.location.slice(1);
            
            // Create features HTML
            const featuresHTML = property.features.slice(0, 3).map(feature => 
                `<span class="badge bg-light text-dark me-1 mb-1">${feature}</span>`
            ).join('');
            
            div.innerHTML = `
                <div class="property-card">
                    <div class="position-relative">
                        <img class="property-img" src="${property.image}" alt="${property.title}">
                        <div class="property-status bg-primary text-white">${statusText}</div>
                        <div class="property-type">${typeText}</div>
                    </div>
                    <div class="p-4">
                        <div class="property-price">
                            ‚Ç¨${property.status === 'rent' ? property.price + '/month' : property.price.toLocaleString()}
                        </div>
                        <a class="property-title d-block" href="property-detail.html?id=${property.id}">
                            ${property.title}
                        </a>
                        <p class="property-location">
                            <i class="fas fa-map-marker-alt text-primary me-2"></i>${locationText}, Portugal
                        </p>
                        <p class="text-muted small mb-3">${property.description.substring(0, 100)}...</p>
                        
                        <div class="property-features">
                            <div class="d-flex justify-content-between mb-2">
                                <small><i class="fas fa-ruler-combined text-primary me-2"></i>${property.details.sqft} m¬≤</small>
                                <small><i class="fas fa-bed text-primary me-2"></i>${property.details.beds} Bed</small>
                                <small><i class="fas fa-bath text-primary me-2"></i>${property.details.baths} Bath</small>
                            </div>
                            <div class="features-list">
                                ${featuresHTML}
                                ${property.features.length > 3 ? '<span class="badge bg-light text-dark">+ more</span>' : ''}
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2 mt-3">
                            <a href="property-detail.html?id=${property.id}" class="btn btn-primary btn-sm flex-grow-1">
                                <i class="fas fa-eye me-2"></i>View Details
                            </a>
                            <button class="btn btn-outline-primary btn-sm" onclick="window.open('https://wa.me/351920326572?text=I%20am%20interested%20in%20${encodeURIComponent(property.title)}', '_blank')">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            return div;
        }

        // Update results counter
        function updateResultsCounter() {
            const filteredProperties = getFilteredProperties();
            const totalResults = filteredProperties.length;
            const showingResults = Math.min(totalResults, currentFilters.offset + currentProperties.length);
            
            resultsCount.textContent = `${showingResults} of ${totalResults} Properties Found`;
            
            // Build active filters text
            const activeFiltersArray = [];
            if (currentFilters.keyword) activeFiltersArray.push(`Search: "${currentFilters.keyword}"`);
            if (currentFilters.type) activeFiltersArray.push(`Type: ${currentFilters.type}`);
            if (currentFilters.location) activeFiltersArray.push(`Location: ${currentFilters.location}`);
            if (currentFilters.price !== 'all') activeFiltersArray.push(`Price: ${currentFilters.price}`);
            if (currentFilters.bedrooms) activeFiltersArray.push(`Bedrooms: ${currentFilters.bedrooms}`);
            if (currentFilters.transaction) activeFiltersArray.push(`For: ${currentFilters.transaction === 'sale' ? 'Sale' : 'Rent'}`);
            
            activeFilters.textContent = activeFiltersArray.length > 0 ? `Active filters: ${activeFiltersArray.join(', ')}` : '';
            
            // Show/hide results counter
            if (activeFiltersArray.length > 0 || currentFilters.keyword || currentFilters.status !== 'all') {
                resultsCounter.style.display = 'flex';
            } else {
                resultsCounter.style.display = 'none';
            }
        }

        // Modal functionality - Appointment
        appointmentBtn.addEventListener('click', () => {
            appointmentModal.style.display = 'block';
            appointmentModal.scrollTop = 0;
            document.body.style.overflow = 'hidden';
        });

        closeModal.addEventListener('click', () => {
            appointmentModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        // Modal functionality - Add Property
        function openAddPropertyModal() {
            addPropertyModal.style.display = 'block';
            addPropertyModal.scrollTop = 0;
            document.body.style.overflow = 'hidden';
            markFormAsShown();
        }

        addPropertyBtn.addEventListener('click', (e) => {
            e.preventDefault();
            openAddPropertyModal();
        });

        closePropertyModal.addEventListener('click', () => {
            addPropertyModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        window.addEventListener('click', (e) => {
            if (e.target === appointmentModal) {
                appointmentModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            if (e.target === addPropertyModal) {
                addPropertyModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Form submission handlers
        appointmentForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Thank you! Your appointment request has been submitted. We will contact you shortly to confirm.');
            appointmentModal.style.display = 'none';
            document.body.style.overflow = 'auto';
            appointmentForm.reset();
        });

        // File upload functionality
        fileUploadArea.addEventListener('click', () => {
            propertyImagesInput.click();
        });

        propertyImagesInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            filePreview.innerHTML = '';
            
            files.slice(0, 10).forEach(file => {
                if (!file.type.startsWith('image/')) {
                    alert(`File ${file.name} is not an image. Please upload only images.`);
                    return;
                }
                
                if (file.size > 5 * 1024 * 1024) {
                    alert(`File ${file.name} is too large. Maximum size is 5MB.`);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'file-preview-item';
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" alt="${file.name}">
                        <div class="position-absolute top-0 end-0 p-1">
                            <button type="button" class="btn btn-danger btn-sm" onclick="this.parentElement.parentElement.remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    filePreview.appendChild(previewItem);
                };
                reader.readAsDataURL(file);
            });
        });

        // Show/hide rental fields based on transaction type
        const transactionRadios = document.querySelectorAll('input[name="transactionType"]');
        transactionRadios.forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (e.target.value === 'rent') {
                    rentalFields.style.display = 'block';
                } else {
                    rentalFields.style.display = 'none';
                }
            });
        });

        // Enhanced form validation
        function validateForm() {
            let isValid = true;
            const requiredFields = addPropertyForm.querySelectorAll('[required]');
            
            requiredFields.forEach(field => {
                field.classList.remove('is-invalid');
                if (!field.value.trim()) {
                    field.classList.add('is-invalid');
                    isValid = false;
                }
            });
            
            // Email validation
            const emailField = document.getElementById('contactEmail');
            if (emailField.value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailField.value)) {
                emailField.classList.add('is-invalid');
                isValid = false;
            }
            
            return isValid;
        }

        addPropertyForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            if (!validateForm()) {
                alert('Please fill in all required fields correctly.');
                return;
            }
            
            // Get form data
            const formData = {
                transactionType: document.querySelector('input[name="transactionType"]:checked').value,
                propertyType: document.getElementById('propertyType').value,
                title: document.getElementById('title').value,
                price: document.getElementById('price').value,
                location: document.getElementById('location').value,
                bedrooms: document.getElementById('bedrooms').value,
                bathrooms: document.getElementById('bathrooms').value,
                area: document.getElementById('area').value,
                description: document.getElementById('description').value,
                contactName: document.getElementById('contactName').value,
                contactPhone: document.getElementById('contactPhone').value,
                contactEmail: document.getElementById('contactEmail').value,
                features: [],
                images: Array.from(propertyImagesInput.files).map(file => file.name)
            };
            
            // Get checked features
            const featureCheckboxes = addPropertyForm.querySelectorAll('input[type="checkbox"]');
            featureCheckboxes.forEach(checkbox => {
                if (checkbox.checked && checkbox.id !== 'termsAgreement') {
                    formData.features.push(checkbox.nextElementSibling.textContent.replace(/[^a-zA-Z\s]/g, ''));
                }
            });
            
            // Show loading state
            const submitBtn = addPropertyForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Submitting...';
            submitBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                console.log('Property Listing Submitted:', formData);
                
                alert('üéâ Thank you! Your property listing has been submitted successfully. Our team will review it and contact you within 24 hours.');
                addPropertyModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                addPropertyForm.reset();
                filePreview.innerHTML = '';
                
                // Reset button state
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Reset radio buttons
                document.getElementById('forSale').checked = true;
                rentalFields.style.display = 'none';
                
                // Add to properties array (simulation)
                const newProperty = {
                    id: properties.length + 1,
                    title: formData.title,
                    price: parseInt(formData.price),
                    type: formData.propertyType,
                    location: formData.location.toLowerCase(),
                    status: formData.transactionType,
                    featured: false,
                    image: "img/property-" + (Math.floor(Math.random() * 6) + 1) + ".jpg",
                    description: formData.description.substring(0, 150) + "...",
                    details: {
                        sqft: parseInt(formData.area) || 0,
                        beds: parseInt(formData.bedrooms) || 0,
                        baths: parseInt(formData.bathrooms) || 0,
                        year: new Date().getFullYear()
                    },
                    features: formData.features.slice(0, 5)
                };
                
                properties.unshift(newProperty);
                renderProperties(getFilteredProperties());
                
            }, 1500);
        });

        // Phone number reveal functionality
        function setupPhoneButton(button) {
            button.addEventListener('click', function() {
                const phoneNumber = this.parentElement.querySelector('.phone-number');
                const icon = this.querySelector('i');
                
                if (phoneNumber.style.display === 'block') {
                    phoneNumber.style.display = 'none';
                    icon.className = 'fa fa-phone-alt ms-2';
                } else {
                    phoneNumber.style.display = 'block';
                    icon.className = 'fa fa-phone ms-2';
                    setTimeout(() => {
                        phoneNumber.style.display = 'none';
                        icon.className = 'fa fa-phone-alt ms-2';
                    }, 30000);
                }
            });
        }

        // Setup phone buttons
        if (headerPhoneBtn) setupPhoneButton(headerPhoneBtn);
        if (ctaPhoneBtn) setupPhoneButton(ctaPhoneBtn);

        // Search functionality
        searchButton.addEventListener('click', performSearch);

        function performSearch() {
            currentFilters.keyword = searchInput.value.toLowerCase();
            currentFilters.type = propertyTypeFilter.value;
            currentFilters.location = locationFilter.value;
            currentFilters.bedrooms = bedroomsFilter.value;
            currentFilters.transaction = transactionTypeFilter.value;
            
            // Show loading
            searchLoading.style.display = 'block';
            propertyContainer.style.opacity = '0.5';
            
            setTimeout(() => {
                renderProperties(getFilteredProperties());
                searchLoading.style.display = 'none';
                propertyContainer.style.opacity = '1';
                
                // Scroll to results
                document.getElementById('featured-properties').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 500);
        }

        // Price filter functionality
        filterPrices.forEach(option => {
            option.addEventListener('click', function() {
                // Remove active class from all options
                filterPrices.forEach(opt => opt.classList.remove('filter-active'));
                // Add active class to clicked option
                this.classList.add('filter-active');
                // Update filter
                currentFilters.price = this.getAttribute('data-price');
                performSearch();
            });
        });

        // Tab filter functionality
        propertyTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                propertyTabs.forEach(t => t.classList.remove('active'));
                // Add active class to clicked tab
                this.classList.add('active');
                // Update filter
                currentFilters.status = this.getAttribute('data-filter');
                performSearch();
            });
        });

        // Sort functionality
        sortProperties.addEventListener('change', function() {
            currentFilters.sort = this.value;
            performSearch();
        });

        // Clear all filters
        function clearAllFilters() {
            searchInput.value = '';
            propertyTypeFilter.value = '';
            locationFilter.value = '';
            bedroomsFilter.value = '';
            transactionTypeFilter.value = '';
            sortProperties.value = 'featured';
            
            // Reset price filter
            filterPrices.forEach(opt => {
                opt.classList.remove('filter-active');
                if (opt.getAttribute('data-price') === 'all') {
                    opt.classList.add('filter-active');
                }
            });
            
            // Reset tab filter
            propertyTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-filter') === 'all') {
                    tab.classList.add('active');
                }
            });
            
            // Reset current filters
            currentFilters = {
                keyword: '',
                type: '',
                location: '',
                price: 'all',
                status: 'all',
                bedrooms: '',
                transaction: '',
                sort: 'featured',
                limit: 6,
                offset: 0
            };
            
            renderProperties(getFilteredProperties());
        }

        clearFilters.addEventListener('click', clearAllFilters);

        // Enter key support for search
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Load more functionality
        loadMoreBtn.addEventListener('click', () => {
            loadingSpinner.style.display = 'block';
            loadMoreBtn.style.display = 'none';
            
            setTimeout(() => {
                currentFilters.offset += currentFilters.limit;
                const filteredProperties = getFilteredProperties();
                renderProperties(filteredProperties, true);
                loadingSpinner.style.display = 'none';
                
                if (currentFilters.offset + currentProperties.length < filteredProperties.length) {
                    loadMoreBtn.style.display = 'block';
                }
            }, 800);
        });

        // Newsletter subscription
        document.getElementById('subscribeBtn').addEventListener('click', function() {
            const email = document.getElementById('newsletterEmail').value;
            if (email && email.includes('@')) {
                alert('Thank you for subscribing to our newsletter!');
                document.getElementById('newsletterEmail').value = '';
            } else {
                alert('Please enter a valid email address.');
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Hide spinner
            setTimeout(() => {
                document.getElementById('spinner').style.display = 'none';
            }, 500);
            
            // Initialize properties
            initializeProperties();
            
            // Set first price filter as active
            if (filterPrices.length > 0) {
                filterPrices[0].classList.add('filter-active');
            }
            
            // Set minimum date to today for appointment form
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').setAttribute('min', today);
            
            // Setup welcome message and first visit modal
            setupWelcomeMessage();
            
            // Initialize owl carousel if exists
            if (typeof $.fn.owlCarousel !== 'undefined') {
                $('.header-carousel').owlCarousel({
                    items: 1,
                    loop: true,
                    nav: true,
                    dots: true,
                    autoplay: true,
                    autoplayTimeout: 5000,
                    smartSpeed: 1000
                });
                
                $('.testimonial-carousel').owlCarousel({
                    items: 1,
                    loop: true,
                    nav: false,
                    dots: true,
                    autoplay: true,
                    autoplayTimeout: 6000,
                    smartSpeed: 1000,
                    responsive: {
                        0: {
                            items: 1
                        },
                        768: {
                            items: 2
                        },
                        992: {
                            items: 3
                        }
                    }
                });
            }
        });

        // WhatsApp floating button click handler
        document.querySelector('.whatsapp-float').addEventListener('click', function() {
            window.open('https://wa.me/351920326572?text=Hello%20RentCasaPT,%20I%20am%20interested%20in%20your%20properties', '_blank');
        });

        // Back to top button
        const backToTopButton = document.querySelector('.back-to-top');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.style.display = 'flex';
            } else {
                backToTopButton.style.display = 'none';
            }
        });
        
        backToTopButton.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Store current properties being shown
        let currentProperties = [];
        
        // Update current properties when rendering
        const originalRenderProperties = renderProperties;
        renderProperties = function(filteredProperties, append = false) {
            if (!append) {
                currentProperties = [];
            }
            
            const newProperties = filteredProperties.slice(currentFilters.offset, currentFilters.offset + currentFilters.limit);
            currentProperties = [...currentProperties, ...newProperties];
            
            return originalRenderProperties(filteredProperties, append);
        };
    </script>
</body>
</html>
